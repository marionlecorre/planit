{% extends 'PlanItTodoBundle::layout.html.twig' %}

{% block content %}
<div class="container">
	<div class="row" id="title">
        <div class="col-md-12" > <h1>TODO</h1> </div>
    </div>

	<div class="row" id="separator">
		<div class="col-md-12"> </div>
	</div>

	<div class="row buttons">
        <div class="col-md-3 col-sm-5 bt_todo"><button data-toggle="modal" data-target=".addItemModal">Ajouter une tâche</button></div>
        <div class="col-md-3 col-sm-5 bt_todo"><a href="{{ path('PlanItTodoBundle_pdf', { 'module_id': module.id }) }}"><button>Imprimer la liste des tâches</button></a></div>

        <!--<div class="col-md-3 bt_todo"><button>Valider</button></div>-->
    </div>
     {{ render(controller('PlanItTodoBundle:Item:form', { 'module_id' : module.id } ))}}


		<ul class="sortable" id="todo-list">
		    {% for item in module.items %}
				{% if not item.checked %}
					<li>
						<div class="row">
							<div class="col-md-12 todo">
								{{item.content}} <input type="checkbox" id="checkbox-{{item.id}}" name="todo1" onClick="changeChecked({{item.id}})"> 
							</div>
						</div>			
					</li>
				{% endif %}
			{% endfor %}

			{% for item in module.items %}
				{% if item.checked %} 
					<li>
						<div class="row">
							<div class="col-md-12 todo checked">
								{{item.content}} <input type="checkbox" id="checkbox-{{item.id}}" checked name="todo1" onClick="changeChecked({{item.id}})"> 
							</div>
						</div>			
					</li>
				{% endif %}
			{% endfor %}
		</ul>
</div>

{% endblock %}

{% block javascripts %}
    {{ parent() }} <!-- pour ne pas effacer les autres feuilles de style -->
   	<script>
	    $('.sortable').sortable({
	    	items: ':not(.disabled)'
		});
	</script>
{% endblock %}
